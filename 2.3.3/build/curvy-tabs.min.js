!function(){"use strict";var c,r=".curvy-tabs-container {position: relative;width: 500px;height: 500px;}\n.curvy-tabs-container > div {position: absolute;left: 0;bottom: 0;right: 0;border: 1px solid #aaa;border-radius: 7px;}\n.curvy-tabs-container > div > * {position: absolute;display: block;visibility: hidden;padding: 8px;top: 0;bottom: 0;left: 0;right: 0;overflow: scroll;border-radius: 7px;}\n.curvy-tabs-container > canvas {position: absolute;}\n",d=4,u=4,f="rgba(0, 0, 0, 0)";function l(t,e){!function(){if(!document.head.querySelector("style#injected-stylesheet-curvy-tabs")){var t=document.createElement("style");t.id="injected-stylesheet-curvy-tabs",t.innerHTML=r,document.head.insertBefore(t,document.head.firstElementChild)}}();var i=Array.prototype.slice.call(t.children);this.container=t,this._minWidth=0,this._curviness=1,this._font="10pt sans-serif",this._selected=e||i[0];var s=this.contents=document.createElement("div");i.forEach(function(t){t.dataset.display=window.getComputedStyle(t).display,s.appendChild(t)}),t.appendChild(s);var n=this.tabs=new WeakMap;this.contentDivs.forEach(function(t){n.set(t,{})}),g.call(this);var o=t.getBoundingClientRect(),h=this.canvas=document.createElement("canvas"),a=this.gc=h.getContext("2d");c=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),t.appendChild(h),this.width=o.width,this.size=l.size,this.height=this.height,h.addEventListener("click",function(a){this.contentDivs.find(function(t){var e=this.tabs.get(t),i=d+.25*this.size,s=e.left+i;if(a.offsetX>s&&a.offsetX<s+e.width-i-i){var n=!1,o=!1,h={content:t,left:e.left,width:e.width,stopPropagation:function(){n=!0},preventDefault:function(){o=!0}};return"function"==typeof e.onclick&&e.onclick.call(t,h),n||"function"!=typeof this.onclick||this.onclick(h),o||(this.selected=t),!0}},this)}.bind(this))}function s(t,e,i){var s=t.style;if("object"!=typeof e||Array.isArray(e)){if(3===arguments.length)s[e]=i;else if(2===arguments.length)return Array.isArray(e)?e.reduce(function(t,e){return t[e]=s[e],t},{}):window.getComputedStyle(t)[e]}else Object.keys(e).forEach(function(t){s[t]=e[t]})}function g(){var e=this.contents.style.borderRadius;this.contentDivs.forEach(function(t){t.style.borderRadius=e})}function p(){return window.getComputedStyle(this.contents)}function v(){return parseFloat(p.call(this).borderWidth)}function n(t,e,i){for(var s=this.gc,n=this.size-1,o=.5*n,h=.8*this.curviness*o,a=t.getAttribute("name"),c=Math.max(this.minWidth,u+s.measureText(a).width+u),r=t,l=f;l===f;r=r.parentElement)if(l=window.getComputedStyle(r).backgroundColor,r===document.body){l===f&&(l="white");break}return s.save(),s.translate(e+.5,.5),s.lineWidth=v.call(this),i&&(s.beginPath(),s.moveTo(d,n),s.lineTo(d+o+c+o,n),s.strokeStyle=l,s.stroke()),s.beginPath(),s.moveTo(0,n),s.lineTo(d,n),s.translate(d,0),s.bezierCurveTo(h,n,o-h,0,o,0),s.lineTo(o+c,0),s.translate(o+c,0),s.bezierCurveTo(h,0,o-h,n,o,n),s.lineTo(o+d,n),i||s.closePath(),s.fillStyle=l,s.fill(),s.fillStyle="black",s.fillText(a,-c/2,2*n/3),s.strokeStyle=p.call(this).borderColor,s.stroke(),s.restore(),d+o+c+o+d}l.size=29,l.prototype={constructor:l,addTab:function(t,e,i){var s=document.createElement("div");s.setAttribute("name",t),e&&(s.innerHTML=e),i&&(s.style.backgroundColor=i),s.dataset.display=window.getComputedStyle(s).display,this.tabs.set(s,{}),this.contents.appendChild(s),this.selected=s,this.paint()},getTab:function(t){var e;if(t instanceof HTMLElement)e=t;else if(!(e="number"==typeof t?this.contents.children[t]:this.contents.querySelector('[name="'+t+'"]')))throw new ReferenceError("Cannot find specified tab: "+t);return e},get contentDivs(){return Array.prototype.slice.call(this.contents.children)},forEach:function(t){this.contenDivs.forEach(t)},get minWidth(){return this._minWidth},set minWidth(t){this._minWidth=t,this.paint()},get width(){return this._width},set width(t){t=Math.floor(t),this._width=t,this.canvas.width=t*c,this.container.style.width=t+"px",this.gc.scale(c,c),this.paint()},get size(){return this._height},set size(t){t=Math.floor(t),this._height=t,this.canvas.height=t*c,this.canvas.style.height=t+"px",this.gc.scale(c,c),this.contents.style.top=t-1+"px",this.paint()},get height(){return this.container.getBoundingClientRect().height},set height(t){this.container.style.height=t+"px",this.contents.style.top=this.size-v.call(this)+"px",this.paint()},get curviness(){return this._curviness},set curviness(t){this._curviness=t,this.paint(),this.contents.style.borderRadius=7*t+"px",g.call(this)},get font(){return this._font},set font(t){this._font=t,this.paint()},get selected(){return this._selected},set selected(t){this._selected=t,this.paint()},select:function(t){this.selected=this.getTab(t)},clear:function(t){for(var e=this.getTab(t);e.hasChildNodes();)e.removeChild(e.lastChild)},hide:function(t){this.toggle(t,!1)},show:function(t){this.toggle(t,!0)},toggle:function(t,e){var i=this.getTab(t);void 0===e&&(e="none"===window.getComputedStyle(i).display),e||i!==this.selected?(i.style.display=e?"block":"none",this.paint()):console.warn("Attempt to hide currently selected tab ignored.")},reset:function(e){this.contentDivs.forEach(function(t){e?t.dataset.display=window.getComputedStyle(t).display:this.toggle(t,"none"!==t.dataset.display)},this)},css:function(t,e){s.call(this,this.contents,t,e),this.height=this.height},contentCss:function(e,i){this.contentDivs.forEach(function(t){s.call(this,t,e,i)})},paint:function(){var i=8;this.gc.textAlign="center",this.gc.clearRect(0,0,this.canvas.width,this.size),this.gc.font=this.font;var t=this.contentDivs.filter(function(t){return"block"===window.getComputedStyle(t).display});t.length&&(t.forEach(function(t){var e=this.tabs.get(t);i+=e.width=n.call(this,t,e.left=i),i-=(.8-.11*this.curviness)*this.size},this),n.call(this,this.selected,this.tabs.get(this.selected).left,!0),function(){this.wasSelected&&(this.wasSelected.style.visibility="hidden");this.selected.style.visibility="visible",this.wasSelected=this.selected}.call(this))}},l.version="2.3.3",window.CurvyTabs=l}();